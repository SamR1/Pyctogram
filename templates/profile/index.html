{% extends 'base.html' %}
{% import 'macros/pagination.html' as pagination_macro %}

{% block title %}{{ author['full_name'] }}‚Äôs photos{% endblock %}

{% block header %}
  <div class="media">
    <div class="media-left">
      <figure class="profile-picture image is-96x96">
          <img src="{{ author['profile_pic_url'] }}" alt="{{ author.username }}">
      </figure>
      <br>
      <ul class="has-text-centered">
        <li><a class="button is-small is-outlined is-info" href="{{ url_for('list_choices_for_user', username = author.username) }}">Add to list üîñ</a></li><br>

        {% if display_as_feed == False %}
            {% set from = 'profile' %}
        {% endif %}
        {% if display_as_feed == True %}
            {% set from = 'profile_feed' %}
        {% endif %}

        {% if account_is_hidden(author.id) %}
          <li><a title="Unhide from feed üêµ" href="{{ url_for('show_account', username = author.username, from = from) }}" class="button is-small is-info is-outlined">Unhide üêµ</a></li>
        {% else %}
          <li><a title="Hide from feed üôà" href="{{ url_for('hide_account', username = author.username, from = from) }}" class="button is-small is-info is-outlined">Hide üôà</a></li>
        {% endif %}
      </ul>
    </div>
    <div class="media-content">
      <h1 class="title is-1">{{ author['full_name'] }}</h1>
      <p class="subtitle is-3">@{{ author.username }}</p>
      <p class="content" style="white-space: pre-line;">{{ author['biography'] }}</p>
      {% if author['external_url'] != None %}
      <p class=""><a href="{{ author['external_url'] }}">{{ author['external_url'] }}</a></p>
      {% endif %}
      <p class="">
        <a href="https://instagram.com/{{ author.username }}/">
          View <strong>@{{ author.username }}</strong>‚Äôs profile on Instagram ‚Üó
        </a>
      </p>
    </div>
  </div>

{% endblock %}

{% block content %}

  <div class="tabs">
    <ul>
      <li class="{% if display_as_feed == False %}is-active{% endif %}"><a href="{{ url_for('profile', username = author.username) | replace('%40', '@') }}">Grid</a></li>
      <li class="{% if display_as_feed == True %}is-active{% endif %}"><a href="{{ url_for('profile', username = author.username, display = 'feed') | replace('%40', '@') }}">Feed</a></li>
      <li><a href="{{ url_for('profile_lists', username = author.username) | replace('%40', '@') }}">Lists</a></li>
    </ul>
  </div>



  {% if display_as_feed == True %}

    {% for post in posts %}
        {% include 'partials/full_card.html' %}
    {% endfor %}

  {% else %}

    <div class="columns is-multiline">
    {% for post in posts %}
      {% include 'partials/mini_card.html' %}
    {% endfor %}
    </div>

  {% endif %}

  {{ pagination_macro.render_pagination(pagination) }}
{% endblock %}

